###依赖于一个JAR包

自2012年年初后，Ant和Eclipse开始拥有一个共同的第三方JAR包规则:把它们放进你项目的libs/目录下，两个构建环境都会从中将其取出。具体来说，它们会：

* 添加这些JAR包到编译时classpath,那么引用这些JAR包的公开API的你的代码会能够编译,并且
* 添加这些JAR包内容到你的APK，所以在运行时，你对这些JAR包类的引用能得到解析。

并且它是起作用的。

新的基于Gradle的构建系统不会以同样的方式自动使用你的libs/目录下的内容。这就是我们的使用简单本地jar包的build.gradle会需要动手写一个像这样的依赖闭包：

	dependencies{
	   compile fileTree(dir:'libs,include:'*.jar')
	}

这个fileTree()会遍历这个位于dir属性的目录树（这里的话是libs）并且寻找匹配包含通配符模式的文件（这里的话，*.jar）。这会返回所有在libs/目录的jar文件，然后这些会添加到编译过程中。

并且，虽然我们没有明说在结果的APK文件中包含这些JAR包，这实际上是作为android过程的来我们处理的。

注意这是可配置的。所以，如果出于某些原因，你想让你的jar包处于libs/之外的目录，例如jars/或localDependencies/或wheeMarkingLongDirectroyNameIsFun/,你是欢迎这么做的。

####...并且为什么有些人不喜欢这个

但是，至少在缺少其他更好的选择之前，以这种方式使用简单的jar包是令人皱眉头的。

一个原因是jar文件不一定包含关于这个jar文件版本的所有信息。jar包是频繁更新的，除非jar包的作者把版本信息改进文件名中，不然你是不能看一个jar包而辨别出它是新还是旧。

例如，经典的Android支持包的Jar包是android-support-v4.har。一些开发者看到了-v4这部分并且认为这是意味着这个特定的jar包是这个类库的第四版。实际上，-v4意味着它主要包好了来自android.support.v4的类并且是为向后兼容至API等级4的应用而设计的。但是，这个包每隔几个月就会有新的类以及bug修复。因此，两个叫做android-support-v4.jar可能有着完全不同的内容，例如一个是2011年而一个是2013年。

这就是造成Ant/Eclipse构建过程在遇到多个相同jar文件的时候短暂停顿的原因（例如，一个在你的项目中以及一个相同名字的在Android类库项目中）。单单名字是不同区别它们是否相同的。构建工具会使用MD5散列来尝试决定内容是不是真正的一模一样，这有效但是不是一个理想的解决方案。

另一个人们皱眉的原因是没有东西来管理jar包本身的依赖。很多时候一个jar包依赖于其它jar包，但是这个jar包没有表达的方式。作为替换的，开发者应该自己管理好它们的jar包，可能是通过阅读文档并遵循这些指导。并且。因为开发者不总是读文档或遵循这些指导的，手工依赖管理充满了危险。

在传统的Java开发中，"artifacts"和“repositories”被引入来帮助提供包围jar包的一些包装元数据，为了帮助开发者在找到正确版本以及决定什么时候更新。使用“artifacts”和“repositories”是Gradle所推荐的。并且正如在这章之后内容看到的，Grale会使使用这些结构变得相对简单。




